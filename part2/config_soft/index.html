


<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Manual de migasfree">
      
      
      
        <meta name="author" content="Alberto Gacías">
      
      <link rel="shortcut icon" href="../../img/logo.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Configurando software al estilo migasfree - fun with migasfree</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configurando-software-al-estilo-migasfree" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Cabecera">
    <a href="../.." title="fun with migasfree" class="md-header-nav__button md-logo" aria-label="fun with migasfree">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            fun with migasfree
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Configurando software al estilo migasfree
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="fun with migasfree" class="md-nav__button md-logo" aria-label="fun with migasfree">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    fun with migasfree
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../sobre/" title="Sobre este libro" class="md-nav__link">
      Sobre este libro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Introducción
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Introducción" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Introducción
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../part1/gcs/" title="Gestión de la Configuración Software" class="md-nav__link">
      Gestión de la Configuración Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../part1/admin/" title="Administrando escritorios" class="md-nav__link">
      Administrando escritorios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../part1/caracteristicas/" title="Caracteristicas de migasfree" class="md-nav__link">
      Caracteristicas de migasfree
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Primeros pasos
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Primeros pasos" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Primeros pasos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../probando_migasfree/" title="Probando migasfree" class="md-nav__link">
      Probando migasfree
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Configurando software al estilo migasfree
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Configurando software al estilo migasfree" class="md-nav__link md-nav__link--active">
      Configurando software al estilo migasfree
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurando-software-al-estilo-migasfree" class="md-nav__link">
    Configurando software al estilo migasfree
  </a>
  
    <nav class="md-nav" aria-label="Configurando software al estilo migasfree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#al-estilo-tradicional" class="md-nav__link">
    Al estilo tradicional
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tu-primer-cambio-de-configuracion" class="md-nav__link">
    Tu primer cambio de configuración
  </a>
  
    <nav class="md-nav" aria-label="Tu primer cambio de configuración">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peticion" class="md-nav__link">
    Petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio" class="md-nav__link">
    Cambio
  </a>
  
    <nav class="md-nav" aria-label="Cambio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empaquetado" class="md-nav__link">
    Empaquetado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subiendo-el-cambio-al-servidor" class="md-nav__link">
    Subiendo el cambio al servidor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liberacion" class="md-nav__link">
    Liberación
  </a>
  
    <nav class="md-nav" aria-label="Liberación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#liberando-el-cambio-de-configuracion" class="md-nav__link">
    Liberando el cambio de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicando-el-cambio" class="md-nav__link">
    Aplicando el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tu-segundo-cambio-de-configuracion" class="md-nav__link">
    Tu segundo cambio de configuración
  </a>
  
    <nav class="md-nav" aria-label="Tu segundo cambio de configuración">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peticion_1" class="md-nav__link">
    Petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio_1" class="md-nav__link">
    Cambio
  </a>
  
    <nav class="md-nav" aria-label="Cambio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empaquetado_1" class="md-nav__link">
    Empaquetado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subiendo-al-servidor-el-cambio" class="md-nav__link">
    Subiendo al servidor el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liberacion_1" class="md-nav__link">
    Liberación
  </a>
  
    <nav class="md-nav" aria-label="Liberación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#liberando-el-cambio-de-configuracion_1" class="md-nav__link">
    Liberando el cambio de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicando-el-cambio_1" class="md-nav__link">
    Aplicando el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auditoria" class="md-nav__link">
    Auditoría
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusión
  </a>
  
    <nav class="md-nav" aria-label="Conclusión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beneficios-de-crear-paquetes-de-configuracion" class="md-nav__link">
    Beneficios de crear paquetes de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desventajas-del-empaqueteado-de-la-configuracion" class="md-nav__link">
    Desventajas del empaqueteado de la configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beneficios-de-usar-migasfree" class="md-nav__link">
    Beneficios de usar migasfree
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config_migasfree_client/" title="Configurando migasfree-client" class="md-nav__link">
      Configurando migasfree-client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Guía de uso
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Guía de uso" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Guía de uso
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../part3/admin_interface/" title="El interfaz de administración" class="md-nav__link">
      El interfaz de administración
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../part3/system/" title="La configuración del sistema migasfree" class="md-nav__link">
      La configuración del sistema migasfree
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurando-software-al-estilo-migasfree" class="md-nav__link">
    Configurando software al estilo migasfree
  </a>
  
    <nav class="md-nav" aria-label="Configurando software al estilo migasfree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#al-estilo-tradicional" class="md-nav__link">
    Al estilo tradicional
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tu-primer-cambio-de-configuracion" class="md-nav__link">
    Tu primer cambio de configuración
  </a>
  
    <nav class="md-nav" aria-label="Tu primer cambio de configuración">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peticion" class="md-nav__link">
    Petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio" class="md-nav__link">
    Cambio
  </a>
  
    <nav class="md-nav" aria-label="Cambio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empaquetado" class="md-nav__link">
    Empaquetado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subiendo-el-cambio-al-servidor" class="md-nav__link">
    Subiendo el cambio al servidor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liberacion" class="md-nav__link">
    Liberación
  </a>
  
    <nav class="md-nav" aria-label="Liberación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#liberando-el-cambio-de-configuracion" class="md-nav__link">
    Liberando el cambio de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicando-el-cambio" class="md-nav__link">
    Aplicando el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tu-segundo-cambio-de-configuracion" class="md-nav__link">
    Tu segundo cambio de configuración
  </a>
  
    <nav class="md-nav" aria-label="Tu segundo cambio de configuración">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#peticion_1" class="md-nav__link">
    Petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio_1" class="md-nav__link">
    Cambio
  </a>
  
    <nav class="md-nav" aria-label="Cambio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empaquetado_1" class="md-nav__link">
    Empaquetado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subiendo-al-servidor-el-cambio" class="md-nav__link">
    Subiendo al servidor el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liberacion_1" class="md-nav__link">
    Liberación
  </a>
  
    <nav class="md-nav" aria-label="Liberación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#liberando-el-cambio-de-configuracion_1" class="md-nav__link">
    Liberando el cambio de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicando-el-cambio_1" class="md-nav__link">
    Aplicando el cambio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auditoria" class="md-nav__link">
    Auditoría
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusión
  </a>
  
    <nav class="md-nav" aria-label="Conclusión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beneficios-de-crear-paquetes-de-configuracion" class="md-nav__link">
    Beneficios de crear paquetes de configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desventajas-del-empaqueteado-de-la-configuracion" class="md-nav__link">
    Desventajas del empaqueteado de la configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beneficios-de-usar-migasfree" class="md-nav__link">
    Beneficios de usar migasfree
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                  <h1>Configurando software al estilo migasfree</h1>
                
                <h2 id="configurando-software-al-estilo-migasfree">Configurando software al estilo migasfree<a class="headerlink" href="#configurando-software-al-estilo-migasfree" title="Permanent link">&para;</a></h2>
<blockquote>
<p>No esperes hasta que las condiciones sean perfectas para comenzar,
el empezar hace las condiciones perfectas.</p>
<p>-- Alan Cohen.</p>
</blockquote>
<p>El objetivo de este capítulo es que veas todo el proceso de la <strong>Gestión
de la Configuración Software en conjunto</strong>. Lo vamos a hacer desplegando
un paquete que, simplemente, instalará unos ficheros de ejemplo (png,
gif, mp4, etc.) que pueden servir al personal del Centro de Asistencia
Usuarios (<a href="https://es.wikipedia.org/wiki/Mesa_de_ayuda">CAU</a>) para
comprobar las asociaciones de archivos y aplicaciones.</p>
<h3 id="al-estilo-tradicional">Al estilo tradicional<a class="headerlink" href="#al-estilo-tradicional" title="Permanent link">&para;</a></h3>
<p>Imagina que te llega una petición de cambio para añadir en todos los
ordenadores de escritorio de tu organización unos determinados ficheros
de <em>test</em> para facilitar el trabajo de los compañeros del CAU.</p>
<p>Como aún no has pensado cómo desplegar software en los escritorios
GNU/Linux, decides acceder uno a uno a los equipos por SSH y copiarlos
manualmente. Tardas unos días pero al final realizas el trabajo justo
antes de cogerte las vacaciones de verano, a excepción de algunos
equipos que estaban apagados y que no has podido acceder remotamente.</p>
<p>Ahora bien, mientras estás de vaciones, ¿podría responder fácilmente a
las cuestiones siguientes tu compañero de trabajo?</p>
<ul>
<li>¿Qué cambios se han realizado en un determinado equipo desde el 1 de
    Marzo?</li>
<li>¿Quién realizó el cambio?</li>
<li>¿Cúando se desplegaron todos esos cambios en los equipos?</li>
<li>¿Qué equipos tienen un cambio determinado?</li>
</ul>
<p>Difícilmente tu compañero va a poder reponder estas cuestiones de manera
eficaz, aunque hayas registrado muy bien tu trabajo.</p>
<p>Podrías haberte ahorrado mucho trabajo usando herramientas como
<em>cengine</em>, <em>puppet</em>, <em>chef</em>, etc., para el despliegue de estos ficheros,
pero aún así no podrías contestar fácilmente a dichas preguntas.</p>
<p>La integridad frente al cambio no está garantizada con este método.</p>
<p>A continuación, te propongo otra forma de realizar los cambios de
configuración. Se basa en utilizar el empaquetado para trasladar los
cambios a los equipos.</p>
<div class="admonition info">
<p class="admonition-title">nota</p>
<p>Usa la rueda, no la reinventes. Usando el sistema de paquetería para
desplegar el software y su configuración, nos proporciona integridad
frente a los cambios. Cualquier distribución GNU/Linux tiene un gestor
de paquetes y hace muy bien su trabajo.</p>
</div>
<p>Asumo que tienes un gestor de proyectos, como <em>Redmine</em>, donde vas a
registrar las peticiones de cambio (o al menos que hagas como que lo
tienes) y que has completado con éxito el capítulo anterior. Todos los
comandos de este capítulo los vas a ejecutar como <strong>root</strong> en el equipo
que hayas utilizado en el capítulo anterior.</p>
<h3 id="tu-primer-cambio-de-configuracion">Tu primer cambio de configuración<a class="headerlink" href="#tu-primer-cambio-de-configuracion" title="Permanent link">&para;</a></h3>
<p>El primer cambio sobre un <strong>Elemento de Configuración Software</strong> (ECS)
es el que te llevará más trabajo, porque exige la creación de un
paquete.</p>
<h4 id="peticion">Petición<a class="headerlink" href="#peticion" title="Permanent link">&para;</a></h4>
<p>Imagina que te llega la siguiente la petición de cambio, que registras y
aceptas en el gestor de proyectos:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Copiar distintos ficheros de ejemplos: png, gif, jpg, etc.,
en todos los ordenadores para uso y disfrute de los compañeros del
CAU.</p>
</div>
<p>Lo primero que haces es identificar al ECS que afecta, es decir, cuál es
el paquete que debe ser modificado. Como no existe todavía un paquete
sobre el que actuar, asigna la petición de cambio a un desarrollador
(¡qué suerte, siempre te toca a ti!) y registra en la petición de
cambio:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Crear el paquete <strong>acme-test-files</strong></p>
<p>Asignado a: <em>desarrollador</em>.</p>
</div>
<h4 id="cambio">Cambio<a class="headerlink" href="#cambio" title="Permanent link">&para;</a></h4>
<h5 id="empaquetado">Empaquetado<a class="headerlink" href="#empaquetado" title="Permanent link">&para;</a></h5>
<p>Como desarrollador, tienes que crear el paquete de configuración
<code>acme-test-files</code>. Si nunca has creado un paquete, no te preocupes, para
facilitarte las cosas y que puedas avanzar, centrándote en el proceso
GCS, descárgate el proyecto <code>fun-with-migasfree-examples</code> donde se
incluyen los ejemplos utilizados es este libro.</p>
<pre><code class="console"># apt-get install unzip
$ wget https://github.com/migasfree/fun-with-migasfree-examples/archive/master.zip
$ unzip master.zip
$ cd fun-with-migasfree-examples-master
</code></pre>

<p>Observa los ficheros que incluimos en el paquete <code>acme-test-files</code>:</p>
<pre><code class="console">$ ll acme-test-files/usr/share/acme-test-files/
</code></pre>

<p>Ya tienes el fuente del paquete. Ahora genera el paquete. Para ello,
debes tener instalados algunos paquetes:</p>
<pre><code class="console"># apt-get install devscripts gcc build-essential:native
</code></pre>

<p>Y, ahora sí, genera el paquete:</p>
<pre><code class="console">$ cd acme-test-files
$ /usr/bin/debuild --no-tgz-check -us -uc
$ cd ..
</code></pre>

<p>¡Felicidades, el cambio está empaquetado en
<code>acme-test-files_1.0-1_all.deb</code>!</p>
<h5 id="subiendo-el-cambio-al-servidor">Subiendo el cambio al servidor<a class="headerlink" href="#subiendo-el-cambio-al-servidor" title="Permanent link">&para;</a></h5>
<p>Usa este comando para subir el paquete generado al servidor.</p>
<pre><code class="console"># migasfree-upload -f acme-test-files_1.0-1_all.deb
</code></pre>

<ul>
<li>Introduce usuario: admin</li>
<li>Contraseña: admin</li>
<li>Proyecto: debian-x.x (En mi caso la versión es debian-9.8)</li>
<li>Almacén: acme</li>
</ul>
<p>Finalmente, asigna la petición de cambio a un liberador (sí, otra vez
vas a ser tú) y registra en la petición:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Creado paquete <strong>acme-test-files_1.0-1_all.deb</strong></p>
<p>Asignado a: <em>liberador</em></p>
</div>
<p>¡Felicidades! Has realizado un cambio de configuración y lo has
almacenado en el servidor <em>migasfree</em>.</p>
<h4 id="liberacion">Liberación<a class="headerlink" href="#liberacion" title="Permanent link">&para;</a></h4>
<p>Ahora vas a ver el punto de vista del encargado de liberar los cambios:</p>
<p>Accede mediante un navegador web a tu servidor. Observa que en <code>Alertas</code>
tienes <code>1 paquete huérfano</code> (ver imagen 'Paquetes huérfanos').</p>
<p><img alt="Paquetes huérfanos" class="center" src="../img/orphan.png" />
<em class="center">Paquetes huérfanos</em></p>
<div class="admonition info">
<p class="admonition-title">Nota</p>
<p>Todos los paquetes que se han subido al servidor y no están asignados en
ningún despliegue se denominan <code>huérfanos</code>.</p>
</div>
<h5 id="liberando-el-cambio-de-configuracion">Liberando el cambio de configuración<a class="headerlink" href="#liberando-el-cambio-de-configuracion" title="Permanent link">&para;</a></h5>
<p>Ahora, vas a liberar el cambio creando un nuevo <em>despliegue</em>.</p>
<p>Para ello, ve a <code>Liberación</code> (pulsando sobre el icono del camión) y
accede a <code>Despliegues</code>. Pulsa en el botón <code>+</code> para
<code>añadir un nuevo despliegue de origen interno</code> e introduce estos datos:</p>
<div class="admonition info">
<p class="admonition-title">Nota</p>
<p>Coloca el cursor sobre los iconos para familializarte con el nombre de
los campos del formulario.</p>
</div>
<ul>
<li>Nombre = <code>ficheros de ejemplo #24543</code> (Una buena idea es hacer aquí
    una referencia al nº de petición del Gestor de proyectos)</li>
<li>Proyecto = <code>debian-x.x</code></li>
<li>
<p>Paquetes disponibles = <code>acme-test-files_1.0-1_all.deb</code></p>
<p>En este campo se asignan los paquetes que contendrá el repositorio
físico asociado al despliegue.</p>
</li>
<li>
<p>Paquetes a instalar = <code>acme-test-files</code></p>
<p>En este campo se escriben los <strong>nombres</strong> de los paquetes que se
instalarán <strong>obligatoriamente</strong> en los clientes.</p>
</li>
<li>
<p>Atributos incluidos = <code>SET-ALL SYSTEMS</code></p>
<p>De esta manera indicamos que todos los clientes tendrán acceso a
este despliegue.</p>
</li>
</ul>
<p>Guarda el despliegue.</p>
<p>Observa que, en <code>Alertas</code>, ya no tienes ningún paquete huérfano.</p>
<p>Registra y cierra la petición de cambio:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Liberado en Despliegue <strong>ficheros de ejemplo #24543</strong>.</p>
<p>Petición: <em>cerrada</em>.</p>
</div>
<h5 id="aplicando-el-cambio">Aplicando el cambio<a class="headerlink" href="#aplicando-el-cambio" title="Permanent link">&para;</a></h5>
<p>Para aplicar el cambio a un equipo, ejecuta el siguiente comando:</p>
<pre><code class="console"># migasfree -u
</code></pre>

<p>Observa en la salida del comando:</p>
<pre><code class="console">****************** Subiendo el historial del software... *******************
Diferencia en el software: # 2017-02-03 18:21:17
+acme-test-files-1.0-1
***************************** Correcto
</code></pre>

<p>Puedes comprobar que en /usr/share/acme-test-files tienes los ficheros
de ejemplos incluidos en el paquete.</p>
<pre><code class="console">$ ls -la /usr/share/acme-test-files
</code></pre>

<h3 id="tu-segundo-cambio-de-configuracion">Tu segundo cambio de configuración<a class="headerlink" href="#tu-segundo-cambio-de-configuracion" title="Permanent link">&para;</a></h3>
<h4 id="peticion_1">Petición<a class="headerlink" href="#peticion_1" title="Permanent link">&para;</a></h4>
<p>Te llega una segunda petición de cambio, ya que a tus compañeros del CAU
les ha venido bien estos ficheros de ejemplos pero echan de menos un
SVG:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Añadir un fichero SVG de prueba para el CAU.</p>
</div>
<p>Como siempre, identificas primero el ECS al que afecta el cambio: En
este caso es a <code>acme-test-files</code>. En la petición de cambio, asignas al
desarrollador y registras:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos<p>Registro: Modificar el paquete <strong>acme-test-file</strong> añadiendo el SVG de
 ejemplo: <a href="https://commons.wikimedia.org/wiki/File:Tux.svg">https://commons.wikimedia.org/wiki/File:Tux.svg</a></p>
<p>Asignado a : <em>desarrollador</em>.</p>
</p>
</div>
<h4 id="cambio_1">Cambio<a class="headerlink" href="#cambio_1" title="Permanent link">&para;</a></h4>
<p>Los cambios que se realizan sobre un paquete ya creado suelen ser más
sencillos de realizar porque, simplemente, se modifica el paquete.</p>
<h5 id="empaquetado_1">Empaquetado<a class="headerlink" href="#empaquetado_1" title="Permanent link">&para;</a></h5>
<p>Descarga el fichero SVG de
<a href="https://commons.wikimedia.org/wiki/File:Tux.svg">https://commons.wikimedia.org/wiki/File:Tux.svg</a> y cópialo en
<code>acme-test-files/usr/share/acme-test-files</code>.</p>
<p>Edita el fichero del paquete<code>acme-test-files/debian/changelog</code> para
registrar el cambio realizado. Tendrás que <strong>añadir</strong> estas líneas <strong>al
principio del fichero</strong>:</p>
<pre><code class="console">acme-test-files (1.0-2) unstable; urgency=low

   * Added file tux.svg

 -- Alberto Gacías &lt;alberto@migasfree.org&gt;  Fri, 3 Feb 2018 18:25:00 +0100
</code></pre>

<p>Presta atención a:</p>
<ul>
<li>La versión del paquete <strong>(1.0-2)</strong>.</li>
<li>Sustituir <strong>tu nombre y dirección de correo</strong>.</li>
<li>Modificar la <strong>fecha y hora</strong>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">nota</p>
<p>El formato que se utiliza en el <strong>changelog</strong> en paquetes debian
es muy estricto. Ten cuidado con los espacios, retornos de carro y
fechas.</p>
</div>
<p>Un aspecto que no hay que descuidar es el tema del <em>copyright</em> y
licencia. Edita el fichero <code>acme-test-files/debian/copyright</code> y añade el
<em>copyright</em> y licencia del fichero tux.svg</p>
<pre><code class="console">Files: tux.svg
Copyright: lewing@isc.tamu.edu Larry Ewing and The GIMP
License: https://creativecommons.org/publicdomain/zero/1.0/legalcode
</code></pre>

<p>Ahora, generamos el paquete:</p>
<pre><code class="console">$ cd acme-test-files
$ /usr/bin/debuild --no-tgz-check -us -uc
$ cd ..
</code></pre>

<p>Observa que se ha generado el mismo paquete, pero con la versión
<code>1.0-2</code>:</p>
<pre><code class="console"># root@debian8:~# ls -la *.deb
-rw-r--r-- 1 root root 2338 feb  3 17:49 acme-test-files_1.0-1_all.deb
-rw-r--r-- 1 root root 2398 feb  3 18:27 acme-test-files_1.0-2_all.deb
</code></pre>

<h5 id="subiendo-al-servidor-el-cambio">Subiendo al servidor el cambio<a class="headerlink" href="#subiendo-al-servidor-el-cambio" title="Permanent link">&para;</a></h5>
<pre><code class="console"># migasfree-upload -f acme-test-files_1.0-2_all.deb
</code></pre>

<ul>
<li>Introduce usuario: admin</li>
<li>Contraseña: admin</li>
<li>Proyecto: debian-x.x</li>
<li>Almacén: acme</li>
</ul>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Creado paquete <strong>acme-test-files_1.0-2_all.deb</strong></p>
<p>Asignado a: <em>liberador</em></p>
</div>
<h4 id="liberacion_1">Liberación<a class="headerlink" href="#liberacion_1" title="Permanent link">&para;</a></h4>
<h5 id="liberando-el-cambio-de-configuracion_1">Liberando el cambio de configuración<a class="headerlink" href="#liberando-el-cambio-de-configuracion_1" title="Permanent link">&para;</a></h5>
<p>Observa como aparece de nuevo un <code>paquete huérfano</code> en <code>alertas</code> y que
corresponde a <code>acme-test-files_1.0-2_all.deb</code>.</p>
<p>Accede a <code>Liberación - Despliegues</code> y edita el despliegue
<code>ficheros de ejemplo #24543</code>.</p>
<p>Añade a <code>Paquetes disponibles</code> el paquete
<code>acme-test-files_1.0-2_all.deb</code>.</p>
<p>Guarda el despliegue.</p>
<p>Registra y cierra la petición de cambio:</p>
<div class="admonition note">
<p class="admonition-title">gestor de proyectos</p>
<p>Registro: Liberado <strong>acme-test-files_1.0-2_all.deb</strong> en Despliegue
<strong>ficheros de ejemplo #24543</strong>.</p>
<p>Petición: <em>cerrada</em>.</p>
</div>
<h5 id="aplicando-el-cambio_1">Aplicando el cambio<a class="headerlink" href="#aplicando-el-cambio_1" title="Permanent link">&para;</a></h5>
<p>Ejecuta de nuevo:</p>
<pre><code class="console"># migasfree -u
</code></pre>

<p>Observa en la salida de este comando el cambio de software:</p>
<pre><code class="console">****************** Subiendo el historial del software... *******************
Diferencia en el software: # 2017-02-03 18:30:21
+acme-test-files-1.0-2
-acme-test-files-1.0-1
***************************** Correcto
</code></pre>

<p>Comprueba si el cambio se ha aplicado.</p>
<pre><code class="console">$ ls -la /usr/share/acme-test-files
</code></pre>

<h3 id="auditoria">Auditoría<a class="headerlink" href="#auditoria" title="Permanent link">&para;</a></h3>
<p>Ahora tu compañero sí que podría responder las siguientes cuestiones de
manera centralizada desde el servidor migasfree aunque todos los equipos
estén apagados y tú de vacaciones:</p>
<ul>
<li>
<p>¿Qué cambios se han producido en el ordenador <code>1</code> y cuándo?</p>
<p>Accede a <code>Datos - Ordenadores</code>, accede al equipo <code>CID-1</code> (CID=Computer
ID) y mira el final del campo <code>historial de software</code> de la sección
<code>Software</code>:</p>
</li>
</ul>
<pre><code># 2017-02-03 18:21:17
+acme-test-files-1.0-1

# 2017-02-03 18:30:21
+acme-test-files-1.0-2
-acme-test-files-1.0-1
</code></pre>

<div class="admonition info">
<p class="admonition-title">nota</p>
<p>El signo (-) indica paquete desinstalado y el signo (+) paquete
instalado.</p>
</div>
<ul>
<li>
<p>¿Qué se cambió, quién y cuándo hizo el cambio?</p>
<p>Esta información está en el paquete como metainformación. Para acceder a
ella, accede a <code>Liberación - Paquetes</code>. Despliega el menú de la derecha
del paquete <code>acme-test-files_1.0-2_all.deb</code> y pulsa en
<code>Información del paquete</code>.</p>
<p>Aquí podrás ver el registro de los cambios (entre otra información):</p>
</li>
</ul>
<pre><code>acme-test-files (1.0-2) unstable; urgency=low

  * Added file svg
 -- Alberto Gacías &lt;alberto@migasfree.org&gt;  Fri, 3 Feb 2018 18:25:00 +0100

acme-test-files (1.0-1) unstable; urgency=low

  * Ficheros de ejemplos

 -- Alberto Gacías &lt;alberto@migasfree.org&gt;  Sat, 18 May 2013 08:32:00 +0200
</code></pre>

<ul>
<li>
<p>¿Qué equipos tienen el cambio acme-test-files-1.0-2?</p>
<p>Ve a <code>Consultas - Ordenadores en producción con el paquete...</code>. Escribe
en el campo Paquete <code>acme-test-files-1.0-2</code> y obtendrás el resultado.</p>
</li>
</ul>
<h3 id="conclusion">Conclusión<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<p>Aunque el <strong>empaquetado de los ECS</strong> requiera un esfuerzo inicial, los
beneficios que obtendrás justifican sobradamente el uso de este método:</p>
<ul>
<li>Dispondrás de sistemas más estables.</li>
<li>Te permitirá hacer el seguimento y control de los cambios.</li>
<li>Y mejorarás la resolución de incidencias.</li>
</ul>
<h4 id="beneficios-de-crear-paquetes-de-configuracion">Beneficios de crear paquetes de configuración<a class="headerlink" href="#beneficios-de-crear-paquetes-de-configuracion" title="Permanent link">&para;</a></h4>
<ul>
<li>La configuración permacece encapsulada.</li>
<li>Las configuraciones puede revertirse fácilmente.</li>
<li>Facilita las pruebas antes del despliegue.</li>
<li>Facilita la distribución de las configuraciones de forma segura.</li>
<li>Proporciona integridad frente a los cambios de la configuración.</li>
</ul>
<h4 id="desventajas-del-empaqueteado-de-la-configuracion">Desventajas del empaqueteado de la configuración<a class="headerlink" href="#desventajas-del-empaqueteado-de-la-configuracion" title="Permanent link">&para;</a></h4>
<ul>
<li>Cuesta más tiempo que otras alternativas ya que hay que crear los
    paquetes.</li>
</ul>
<h4 id="beneficios-de-usar-migasfree">Beneficios de usar migasfree<a class="headerlink" href="#beneficios-de-usar-migasfree" title="Permanent link">&para;</a></h4>
<p>Utilizar <em>migasfree</em> para la realizar la <em>Liberación</em> te permitirá:</p>
<ul>
<li>Controlar a quién y a partir de qué momento se deben aplicar los
    cambios.</li>
<li>Tener una auditoría centralizada:<ul>
<li>Inventario de Ordenadores.<ul>
<li>Hardware.</li>
<li>Software (actual e histórico).</li>
</ul>
</li>
<li>Inventario de los cambios.</li>
<li>y algunas cosas más, que te serán desveladas en los siguientes
    capítulos.</li>
</ul>
</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Pie">
        
          <a href="../probando_migasfree/" title="Probando migasfree" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Probando migasfree
              </div>
            </div>
          </a>
        
        
          <a href="../config_migasfree_client/" title="Configurando migasfree-client" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Configurando migasfree-client
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2013-2020 Alberto Gacías
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>