


<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Manual de migasfree">
      
      
      
        <meta name="author" content="Alberto Gacías">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Caracteristicas - fun with migasfree</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#caracteristicas-de-migasfree" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Cabecera">
    <a href="../.." title="fun with migasfree" class="md-header-nav__button md-logo" aria-label="fun with migasfree">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            fun with migasfree
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Caracteristicas
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/agacias/fwm.git/" title="Ir al repositorio" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="fun with migasfree" class="md-nav__button md-logo" aria-label="fun with migasfree">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    fun with migasfree
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/agacias/fwm.git/" title="Ir al repositorio" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Sobre este libro" class="md-nav__link">
      Sobre este libro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../" title="Introducción" class="md-nav__link">
      Introducción
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../part2/" title="Primeros pasos" class="md-nav__link">
      Primeros pasos
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-de-migasfree" class="md-nav__link">
    Características de migasfree
  </a>
  
    <nav class="md-nav" aria-label="Características de migasfree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-nacimiento-de-migasfree" class="md-nav__link">
    El nacimiento de migasfree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#versiones" class="md-nav__link">
    Versiones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caracteristicas" class="md-nav__link">
    Características
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#principales-componentes-empleados" class="md-nav__link">
    Principales componentes empleados
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/agacias/fwm.git/edit/master/docs/part1/caracteristicas.md" title="Editar esta página" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Caracteristicas</h1>
                
                <h2 id="caracteristicas-de-migasfree">Características de migasfree</h2>
<blockquote>
<p>Las cosas no se dicen, se hacen, porque al hacerlas se dicen solas.</p>
<p>-- Woody Allen.</p>
</blockquote>
<h3 id="el-nacimiento-de-migasfree">El nacimiento de migasfree</h3>
<p>En el año 2005, todos grupos políticos del Ayuntamiento de Zaragoza
manifestaron por unanimidad, en pleno de gobierno municipal, apoyar las
políticas de uso de Software Libre y, en concreto, el fomento de los
programas de SL en el entorno de escritorio del empleado municipal. La
Dirección General de Ciencia y Tecnología asume, inicia y potencia este
importante reto.<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">1</a></sup></p>
<p>Este proyecto se planificó en tres etapas:</p>
<ul>
<li>Primera: Migrar a aplicaciones que presentaban un impacto bajo sobre
    usuarios y técnicos en el Sistema Operativo actual (por aquel
    entonces, Microsoft Windows XP).</li>
<li>Segunda: Migrar la plataforma ofimática Microsoft Office 97 por la
    suite libre OpenOffice.</li>
<li>Tercera: Sustituir el SO Windows XP por un sistema operativo basado
    en Linux. Esta etapa se inició en 2008 y todavía sigue abierta.</li>
</ul>
<p>Para iniciar la tercera etapa, se tuvieron que realizar los primeros
prototipos de lo que llegaría a ser la primera versión de AZLinux. En
estos prototipos, la personalización se realizaba manualmente, en un
equipo cuya imagen del disco duro nos servía para clonarla en otros
equipos y hacer las pertinentes pruebas.</p>
<p>En aquel tiempo, aprendimos a empaquetar y empezamos a introducir
nuestra personalización en nuestros propios paquetes. La ventaja frente
a la personalización manual era muy significativa.</p>
<p>Con los primeras migraciones reales, nos surgió la necesidad de
actualizar nuestros paquetes y, después de probar sin éxito <em>Zenworks
for Linux</em>, decidimos crear nuestros propios repositorios de paquetes.
Quisimos emular lo que ya estabamos haciendo con los escritorios XP,
esto es, distribuir software basándonos en el contexto al que pertenecía
un usuario en nuestro LDAP. Con un poco de <em>Bash scripting</em>, en Mayo de
2009, implementamos lo que serían unos repositorios dinámicos que se
configuraban en el cliente en función del contexto.</p>
<p>Esto fue, sin duda, una gran idea, pero la gestión de estos repositorios
dinámicos era manual y muy propensa a errores.</p>
<p>La gestión de estos repositorios dinámicos recayó en mí, por lo que
decidí simplificarla inmediatamente y crear el primer prototipo de
<em>migasfree</em>. Dos semanas de programación, en horas no laborales, fueron
suficientes para presentar a mis compañeros de trabajo un prototipo, que
fue puesto en producción en Junio de 2009.</p>
<div class="admonition note">
<p class="admonition-title">nota</p>
<p>Una de las ventajas de trabajar con software libre es la facilidad con
la que puedes crear proyectos ya que puedes mezclar, como si de piezas
de puzzle fueran, diferentes componentes sin preocuparte en exceso del
tema de las licencias. Un ejemplo de esto ha sido la incorporación de
la funcionalidad de captura del hardware en los equipos. Utilicé el
comando <a href="http://ezix.org/project/wiki/HardwareLiSter">lshw</a> y unas
pocas líneas de código para adaptarlo a la base de datos de migasfree.</p>
</div>
<h3 id="versiones">Versiones</h3>
<p>El primer prototipo sólo trabajaba con paquetería <code>rpm</code> y gestor de
paquetes <code>yum</code>, y el código bash que se ejecutaba en el cliente se
generaba en el servidor.</p>
<p>Después de usar <em>migasfree</em> un tiempo en producción, vimos que podría
ser un buen sistema para otras organizaciones, y mis compañeros me
dieron el impulso necesario para publicar el código. Así, durante el
verano de 2009, reorganice los menús, limpié un poco el código, e hice
que migasfree pudiera trabajar con distintas versiones de SO y de
sistemas de paquetería. Fue
<a href="https://github.com/migasfree/migasfree">publicado</a> en
<a href="https://github.com/">github</a> en abril de 2010 y bautizado como
"migasfree with fried eggs", porque mis compañeros decían que el
logotipo se parecía a un huevo frito. ¡Qué sabrán ellos de Arte!</p>
<p>En Noviembre de 2011, Jose Antonio Chavarría, desarrollador de AZLinux,
reescribe y publica el <a href="https://github.com/migasfree/migasfree-client">cliente
migasfree</a>. Realizó
también grandes cambios en la estructura del servidor. Tuvimos que
definir la API con la que el cliente y el servidor debían comunicarse.
Usamos claves asimétricas para dotar de seguridad al sistema. Esta nueva
versión fue denominada "migasfree no trans" supongo que por incorporar
un código más "limpio", por decirlo de alguna manera.</p>
<p>Poco a poco, fuimos dotando al sistema de nuevas funcionalidades, y para
principios de 2013, Jose Antonio Chavarría cambió la navegación y
aspecto del servidor. Esta nueva versión fue denominada "migasfree with
chocolate".</p>
<p>En febrero de 2014, liberamos la versión 4 del servidor (<em>migasfree
grape edition</em>). Esta versión hace uso de
<a href="http://getbootstrap.com/">bootstrap</a> con el fin de dotar a la
aplicación de un diseño web adaptable a distintos dispositivos. Además,
incorpora distintas mejoras de todo tipo. Actualmente es la versíón que
utilizamos en AZLinux.</p>
<p>En 2015 nos sumamos a una ola disruptora:
<a href="https://es.wikipedia.org/wiki/Docker_(software)">docker</a>. Esto nos ha
liberado de tener que pelearnos con las dependencias de los componentes
que utilizamos en el servidor y de tener que publicar los paquetes que
generabamos para distintas distribuciones GNU/Linux (utilizamos
versiones de componentes que aún no han sido liberados y esto nos creaba
auténticos quebraderos de cabeza).</p>
<p>Con <em>docker</em> hemos conseguido colocar el servidor y sus dependencias en
un contenedor virtual (un debian) que puede ejecutarse en cualquier
servidor GNU/Linux. Esto nos ha proporcionado una flexibilidad y
portabilidad para ejecutar el servidor de una forma muy simple tanto en
un equipo físico como en la nube.</p>
<h3 id="caracteristicas">Características</h3>
<ul>
<li>Migasfree es simple, y hacemos esfuerzos por mantenerlo así.
    Tendemos a lo que denominamos gestión cero, es decir, procuramos que
    la gestión de añadir nuevas entradas en migasfree no requiera
    ninguna tarea administrativa.</li>
<li>Está basado en la arquitectura cliente/servidor.</li>
<li>Es seguro. Las comunicaciones entre cliente y servidor están
    firmadas con claves asimétricas.</li>
<li>Es adaptable. Puedes programar tus propias <code>fórmulas</code> para obtener
    los <code>atributos</code> de los ordenadores y usuarios según tus intereses.</li>
<li>Es Software Libre licenciado bajo la <strong>GNU Public License</strong>.</li>
<li>Almacena tanto el inventario software y hardware de los equipos,
    permitiendo hacer consultas sobre ellos. Almacena también
    información de los equipos tales como sus atributos,
    sincronizaciones, migraciones que se han realizado, etc.</li>
<li>Consultas. Puedes programar consultas contra la base de datos de
    migasfree.</li>
<li>Gestión de errores. Los errores que se producen en los equipos son
    enviados al servidor y almacenados, permitiendo hacer su
    seguimiento.</li>
<li>Gestión de fallas. Puedes programar código que será ejecutado en los
    clientes con el fin de obtener información de los equipos.</li>
<li>Alertas. Permite conocer en tiempo real el estado del sistema
    facilitando al administrador su trabajo.</li>
<li>Estadísticas.</li>
</ul>
<h3 id="principales-componentes-empleados">Principales componentes empleados</h3>
<ul>
<li>Lenguaje de programación <a href="http://www.python.org/">Python</a>.</li>
<li><a href="https://www.djangoproject.com/">Django</a> un framework de desarrollo
    web.</li>
<li>Servidor web <a href="https://nginx.org/">Nginx</a>.</li>
<li><a href="https://chaussette.readthedocs.io/">Chaussette</a> como servidor WSGI</li>
<li>Base de datos <a href="http://www.postgresql.org/">Posgresql</a>.</li>
<li>Información Hardware:
    <a href="http://ezix.org/project/wiki/HardwareLiSter">Lshw</a>.</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:3">
<p>Eduardo Romero Moreno, <a href="http://www.zaragoza.es/contenidos/azlinux/migracionescritoriosl.pdf">Migración Escritorio Software
Libre</a>,
2011&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2013-2020 Alberto Gacías
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>